# 敏捷反馈

很多项目，都是因为程序代码失控而陷入困境。修复bug导致了更多的bug，从而又导致了更多的bug修复，成堆的测试卡片最后会把项目压垮。

这时，我们需要的是经常的监督——频繁反馈以确保代码不会变坏，如果不会更好，至少能像昨天一样继续工作。



## 习惯建议：
### 跟踪变化
> 拒绝诱惑
- 诱惑魔鬼：“你不必为单元测试花费那么多时间和精力。它只会拖延项目的进度。好歹，你也是一个不错的程序员——单元测试只会浪费时间，我们现在正处于关键时刻。” 
    - 如果只是掌握了工作中需要的技术并不够。那样的工作也许几年之后就不再有了——它会被外包或者会过时，那么你也将会出局。
- 守护天使：“使用自动化的单元测试。好的单元测试能够为你的代码问题提供及时的警报。如果没有到位的单元测试，不要进行任何设计和代码修改。”
    - 确保测试是可重复的。
    - 测试你的边界条件。
    - 不要放过任何一个失败的测试。

> 切身感受：你依赖于单元测试。如果代码没有测试，你会觉得很不舒服，就像是在高空作业没有系安全带一样。

> 平衡艺术：
- 测试帮助你全面思考代码的行为，帮你练习正面、反面以及异常情况。
- 单元测试有助于实现简单的、注重实效的设计。
- 单元测试是让你自信的后台。 
- 单元测试是解决问题时的探测器。
- 单元测试是可信的文档。
- 单元测试是学习工具。
- 单元测试让你的代码更加健壮。
- 单元测试能及时提供反馈。


### 先用它再实现它
> 拒绝诱惑
- 诱惑魔鬼：“前进，先完成所有的库代码。后面会有大量时间看用户是如何思考的。现在只要把代码扔过墙去就可以了，我保证它没有问题。” 
    - 如果不是真正需要它的时候，你就不应该实现这个功能。
- 守护天使：“先用它再实现它。将TDD作为设计工具，它会为你带来更简单更有实效的设计。”

> 切身感受：这种感觉就是，只在有具体理由的时候才开始编码。你可以专注于设计接口，而不会被很多实现的细节干扰。

> 平衡艺术：
- 单纯的单元测试无法保证好的设计，但它们会对设计有帮助，会让设计更加简单。


### 不同环境，就有不同问题 
> 拒绝诱惑
- 诱惑魔鬼：“只要代码能在你的机器上运行就可以了，谁会去关心它是否可以在其他平台上工作。你又不用其他平台。”
    - 与没有文档的内部操作系统纠缠在一起，绝对是非常脆弱的。
- 守护天使：“不同环境，就有不同问题。使用持续集成工具，在每一种支持的平台和环境中运行单元测试。要积极地寻找问题，而不是等问题来找你。”

> 切身感受：感觉就像是在做单元测试，非但如此，而且还是跨越不同的世界的单元测试。

> 平衡艺术：
- 硬件比开发人员的时间便宜。但如果你有很多配置，要支持大量的平台，可以选择哪些平台需要内部测试。



